<!-- src/app/features/export/components/export-form/export-form.component.html -->
<div class="card">
  <!-- Wrapper that clips animation -->
  <div class="animation-clipper">
    <!-- animation line moved here -->
    <div class="animation-line"></div>
  </div>

  <div class="card-inner">
    <div class="card-header">
      <div class="card-icon">
        <i class="bi bi-list-check"></i>
      </div>
      <h2 class="card-title">Dettagli Esportazione</h2>
    </div>

    <div class="card-body">
      <form [formGroup]="exportForm">
        <div class="form-grid">
          <!-- Numero Ordine -->
          <div class="form-group">
            <label class="form-label required-field">Numero Ordine</label>
            <app-autocomplete-input 
              placeholder="Inserisci numero ordine" 
              formControlName="order"
              [suggestions]="orderSuggestions" 
              [loading]="orderLoading" 
              actionIcon="bi-qr-code-scan"
              actionTooltip="Scansiona codice QR" 
              (inputChange)="onOrderInput($event)"
              (suggestionSelected)="onOrderSelected($event)" 
              (actionClicked)="scanBarcode()">
            </app-autocomplete-input>
          </div>

          <!-- Fase -->
          <div class="form-group">
            <label class="form-label">Fase</label>
            <app-autocomplete-input 
              placeholder="Inserisci fase" 
              formControlName="phase" 
              [suggestions]="phaseSuggestions"
              actionIcon="bi-lightbulb" 
              actionTooltip="Suggerisci fase" 
              (inputChange)="onPhaseInput($event)"
              (suggestionSelected)="onPhaseSelected()" 
              (actionClicked)="suggestPhase()">
            </app-autocomplete-input>
          </div>

          <!-- Progressivo -->
          <div class="form-group">
            <label class="form-label">Progressivo</label>
            <app-autocomplete-input 
              placeholder="Inserisci progressivo" 
              formControlName="progressive"
              [suggestions]="progressiveSuggestions" 
              actionIcon="bi-plus-circle" 
              actionTooltip="Auto-incrementa"
              (inputChange)="onProgressiveInput($event)" 
              (actionClicked)="autoProgressive()">
            </app-autocomplete-input>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- QR Scanner Modal -->
<app-qr-scanner-modal></app-qr-scanner-modal>
