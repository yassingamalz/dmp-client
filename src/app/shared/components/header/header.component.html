<header class="header">
  <div class="header-main">
    <div class="header-container">
      <div class="header-brand">
        <div class="brand-logo">
          <i class="bi bi-grid-3x3-gap-fill"></i>
        </div>
        <div class="brand-info">
          <h1 class="brand-title">DMP Client</h1>
          <span class="version-badge">v2.0.0</span>
        </div>
      </div>

      <div class="header-status">
        <div class="status-item">
          <span class="status-label">Macchina</span>
          <span class="status-value">{{ machineInfo.name }}</span>
        </div>

        <div class="status-item">
          <span class="status-label">Host</span>
          <span class="status-value">{{ machineInfo.id }}</span>
        </div>

        <div class="status-item">
          <span class="status-label">Stato</span>
          <span class="status-value">
            <div class="status-indicator">
              <i class="bi bi-wifi status-icon online"></i>
              <span class="status-text">{{ machineInfo.status }}</span>
            </div>
          </span>
        </div>
      </div>

      <div class="header-actions">
        <div class="theme-toggle" (click)="toggleTheme()">
          <div class="toggle-track" [class.active]="(currentTheme$ | async) === 'dark'">
            <div class="toggle-thumb">
              <i [class]="(currentTheme$ | async) === 'light' ? 'bi bi-moon-fill' : 'bi bi-sun-fill'"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <nav class="header-nav">
    <div class="nav-container">
      <div class="nav-tabs">
        <button class="nav-tab" [class.active]="currentRoute === '/export'" (click)="navigateTo('/export')">
          <i class="bi bi-upload"></i>
          <span>Esportazione</span>
        </button>
        <button class="nav-tab" [class.active]="currentRoute === '/files'" (click)="navigateTo('/files')">
          <i class="bi bi-folder"></i>
          <span>File</span>
        </button>
        <button class="nav-tab" [class.active]="currentRoute === '/reports'" (click)="navigateTo('/reports')">
          <i class="bi bi-bar-chart"></i>
          <span>Report</span>
        </button>
        <button class="nav-tab" [class.active]="currentRoute === '/statistics'" (click)="navigateTo('/statistics')">
          <i class="bi bi-graph-up"></i>
          <span>Statistiche</span>
        </button>
      </div>

      <div class="nav-actions">
        <button class="action-btn" (click)="openSettings()" title="Impostazioni">
          <i class="bi bi-gear"></i>
        </button>
        <button class="action-btn" title="Notifiche">
          <i class="bi bi-bell"></i>
        </button>
        <button class="action-btn" title="Aiuto">
          <i class="bi bi-question-circle"></i>
        </button>
      </div>
    </div>
  </nav>
</header>

<!-- Settings Modal -->
<app-settings-modal></app-settings-modal>